1ğŸ§­ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼šergo_BLE

æ§‹æˆå¯¾è±¡ï¼šBLEå¯¾å¿œã®åˆ†å‰²ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ï¼ˆå·¦å´ï¼‰

æ“ä½œå½¹ï¼šMitsuharuï¼ˆã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰

æŒ‡æ®ãƒ»é€²è¡Œç®¡ç†ï¼šCopilotï¼ˆæ§‹æˆãƒ»æ”¯æ´ï¼‰

ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰ï¼ˆGitHub Actionsï¼‰

ğŸ“¦ å¿…é ˆãƒ„ãƒ¼ãƒ«

GitHubãƒªãƒã‚¸ãƒˆãƒªï¼ˆzmk-configï¼‰

ZMKå…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

westï¼ˆSDKåŒæ¢±ï¼‰

ğŸ” æ§‹ç¯‰ã‚¹ãƒ†ãƒƒãƒ—

å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å–å¾—

mkdir C:\Users\mitsuharu\github\zmk-config
cd C:\Users\mitsuharu\github\zmk-config
py -3.10 -m west init zmk-config --manifest-url https://github.com/zmkfirmware/zmk
cd zmk-config
py -3.10 -m west update
py -3.10 -m west zephyr-export

GitHubãƒªãƒã‚¸ãƒˆãƒªã¸ã®Push

git init
git remote add origin https://github.com/mitsuharu/zmk-config.git
git add .
git commit -m "Initial commit with ZMK official template"
git push -u origin main

GitHub Actionsã®ç¢ºèª

.github/workflows ãƒ•ã‚©ãƒ«ãƒ€ã«å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®Actionsè¨­å®šãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚

Pushå¾Œã€ActionsãŒ .uf2 ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹ã‹ç¢ºèªã€‚

Flashã¨å‹•ä½œç¢ºèª

ç”Ÿæˆã•ã‚ŒãŸ .uf2 ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‡ãƒã‚¤ã‚¹ã«Flashã€‚

BLEæ¥ç¶šã¨åŸºæœ¬å‹•ä½œã‚’ç¢ºèªã€‚

ğŸ§© 2025/07/18ã®é€²æ—è¨˜éŒ²

GitHub Actionsã®å®‰å®šåŒ–

æˆåŠŸæ¡ä»¶: ActionsãŒ .uf2 ã‚’ç”Ÿæˆã—ã€ãƒ‡ãƒã‚¤ã‚¹ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã€‚

å¤±æ•—æ™‚ã®å¯¾ç­–: Actionsè¨­å®šã®è¦‹ç›´ã—ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å†ç¢ºèªã€‚

ä¿®æ­£ã•ã‚ŒãŸGitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

ä»¥ä¸‹ã¯ä¿®æ­£ã•ã‚ŒãŸGitHub Actionsã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã™ï¼š

steps:
      - name: Checkout repository with submodules
        uses: actions/checkout@v4
        with:
         submodules: recursive

      - name: Install dependencies
        run: |
          sudo apt update
          sudo apt install -y python3-pip git cmake ninja-build gperf ccache dfu-util device-tree-compiler wget
          pip3 install west

      - name: Init and update west
        run: |
          west init -m https://github.com/zmkfirmware/zmk
          west update
          west build -s zmk/app -b nice_nano -- -DSHIELD=ergo_ble_left

      - name: Upload firmware
        uses: actions/upload-artifact@v4
        with:
          name: firmware
          path: build/zephyr/*.uf2

ğŸ§¯ è§£æ±ºç­–ï¼šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å®Œå…¨ã«ãƒªã‚»ãƒƒãƒˆ â†’ æ­£ã—ã„æ§‹æˆã§å†åˆæœŸåŒ–

ğŸ”¥ â‘  zmk-config ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€åº¦å®Œå…¨å‰Šé™¤

PowerShellã§æ¬¡ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ï¼š

Remove-Item -Recurse -Force C:\Users\mitsuharu\github\zmk-config

ğŸ’¡ .west ã‚‚ .git ã‚‚ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚‚å«ã‚ã¦ä¸€æƒã—ã¾ã™

ğŸ†• â‘¡ æ”¹ã‚ã¦å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç’°å¢ƒæ§‹ç¯‰

cd C:\Users\mitsuharu\github
py -3.10 -m west init zmk-config --manifest-url https://github.com/zmkfirmware/zmk
cd zmk-config
py -3.10 -m west update

ğŸ’¡ ã“ã“ã§ zmk-config ãŒ west workspace ã«ãªã‚Šã€zmk/ ã‚„ zephyr/ ãŒå–ã‚Šè¾¼ã¾ã‚Œã¾ã™

ğŸ› ï¸ â‘¢ ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆå·¦å´ï¼‰

py -3.10 -m west build -s app -b nice_nano -- -DSHIELD=ergo_ble_left

ğŸš€ â‘£ GitHubã«Pushï¼ˆã“ã®ã‚ã¨ï¼‰

git init
git remote add origin https://github.com/haru-y98/zmk-config.git
git add .
git commit -m "Initialize with ZMK official manifest"
git push -u origin main

ğŸ’¡ ã“ã®çŠ¶æ…‹ãªã‚‰ GitHub Actionsã‚‚ west update â†’ build â†’ .uf2 ç”ŸæˆãŒæˆåŠŸã—ã¾ã™

ğŸ› ï¸ å¿…é ˆæ§‹æˆï¼šSHIELD ergo_ble_left ã®è¿½åŠ 

ğŸ“ å¿…é ˆãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

`` my-zmk/ â””â”€â”€ config/ â””â”€â”€ boards/ â””â”€â”€ shields/ â””â”€â”€ ergo_ble_left/ â”œâ”€â”€ shield.dts â””â”€â”€ Kconfig


### ğŸ§© `shield.dts` ã®ä¸­èº«ï¼ˆæœ€ä½é™ï¼‰

```dts
#include "nice_nano.overlay"

&kscan {
    debounce-period-ms = <5>;
};

ğŸ§© Kconfigï¼ˆç©ºã§ã‚‚OKï¼‰

menu "ergo_ble_left Shield"
endmenu

ğŸš€ è¨­ç½®å¾Œã®ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰

py -3.10 -m west build -s zmk/app -b nice_nano -- -DSHIELD=ergo_ble_left

æˆåŠŸã™ã‚Œã° build/zephyr/firmware.uf2 ãŒå‡ºåŠ›ã•ã‚Œã¾ã™

ğŸ†• ã“ã‚Œã‹ã‚‰è¡Œã† ZMKå…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ç’°å¢ƒæ§‹ç¯‰ï¼ˆ2025/07/19ï¼‰

ğŸ“ ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åˆæœŸåŒ–

Remove-Item -Recurse -Force C:\Users\mitsuharu\github\my-zmk.west

ğŸ’¡ ã™ã§ã«å£Šã‚Œã¦ã„ã‚‹ .west ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§ã€manifestæ§‹æˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚

ğŸ§­ manifestæŒ‡å®šã§å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å–å¾—

cd C:\Users\mitsuharu\github\my-zmk py -3.10 -m west init -m https://github.com/zmkfirmware/zmk-config

ğŸ’¡ zmk-config ã¯ manifest å°‚ç”¨ã®å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚â€»ä»¥å‰ã¯èª¤ã£ã¦ zmk ã‚’æŒ‡å®šã—ã¦ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ãŸï¼

ğŸ” ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å–å¾—ã¨SDKè¨­å®š

py -3.10 -m west update py -3.10 -m west zephyr-export

ğŸ’¡ zmk/, zephyr/ ãªã©ã®å¿…è¦ãƒ‘ãƒ¼ãƒ„ãŒå–ã‚Šè¾¼ã¾ã‚Œã€Zephyr SDKã®ç’°å¢ƒå¤‰æ•°ã‚‚è¨­å®šã•ã‚Œã¾ã™ã€‚

ğŸ§© SHIELDå®šç¾© ergo_ble_left ã®è¿½åŠ ï¼ˆæœ€ä½é™æ§‹æˆï¼‰

my-zmk/ â””â”€â”€ config/ â””â”€â”€ boards/ â””â”€â”€ shields/ â””â”€â”€ ergo_ble_left/ â”œâ”€â”€ shield.dts â””â”€â”€ Kconfig

shield.dtsï¼ˆæœ€ä½é™ï¼‰

#include "nice_nano.overlay"

&kscan { debounce-period-ms = <5>; };

Kconfigï¼ˆç©ºã§ã‚‚OKï¼‰

menu "ergo_ble_left Shield" endmenu

ğŸš€ ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œï¼ˆå·¦å´ï¼‰

py -3.10 -m west build -s zmk/app -b nice_nano -- -DSHIELD=ergo_ble_left

ğŸ’¡ ãƒ“ãƒ«ãƒ‰æˆåŠŸã§ build/zephyr/firmware.uf2 ãŒç”Ÿæˆã•ã‚Œã¾ã™â†’ ãƒ‡ãƒã‚¤ã‚¹ã¸ã®Flashã¨å‹•ä½œç¢ºèªã¸é€²è¡Œå¯èƒ½ï¼

ğŸ› ï¸ è¿½åŠ ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆ2025/07/19ï¼‰

âŒ ç¾çŠ¶ã®å•é¡Œ

æ“ä½œ

çŠ¶æ…‹

west init -m https://github.com/zmkfirmware/zmk

âŒ west.yml ãŒå­˜åœ¨ã—ãªã„ â†’ åˆæœŸåŒ–å¤±æ•—

west init -m https://github.com/zmkfirmware/zmk-config

âŒ ä»¥å‰ã«å¤±æ•—ã—ãŸ .west ãŒæ®‹ã£ã¦ã„ã¦å†åˆæœŸåŒ–ã§ããš

west build

âŒ westæ‹¡å¼µã‚³ãƒãƒ³ãƒ‰æœªå®šç¾© â†’ manifestã® importå¤±æ•— or west.ymlä¸åœ¨

âœ… æœ€çŸ­ã§å¾©æ—§ã™ã‚‹å…¬å¼æ¨å¥¨æ‰‹é †

ğŸ’¡ ã“ã“ã§ã¯ã€Œãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€åº¦å®Œå…¨å‰Šé™¤ â†’ zmk-config ã§åˆæœŸåŒ–ã€ãŒæœ€ã‚‚ç¢ºå®Ÿã§ã™ã€‚

Remove-Item -Recurse -Force C:\Users\mitsuharu\github\my-zmk
cd C:\Users\mitsuharu\github
py -3.10 -m west init my-zmk --manifest-url https://github.com/zmkfirmware/zmk-config
cd my-zmk
py -3.10 -m west update
py -3.10 -m west zephyr-export

âœ… ã“ã®æ§‹æˆãªã‚‰ west build ã‚„ zephyr-export ãªã©ã®æ‹¡å¼µã‚³ãƒãƒ³ãƒ‰ãŒæ­£ã—ãä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™

ğŸ”§ ãƒ“ãƒ«ãƒ‰ç¢ºèªï¼ˆå·¦å´ï¼‰

py -3.10 -m west build -s zmk/app -b nice_nano -- -DSHIELD=ergo_ble_left

æˆåŠŸã™ã‚‹ã¨ build/zephyr/firmware.uf2 ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã®ã§ã€Flash ã«é€²ã‚ã¾ã™ï¼

ã“ã®ä¿®å¾©æ¡ˆã¯ã“ã®ãƒšãƒ¼ã‚¸ã«ã‚‚è¿½è¨˜ã—ã¦åæ˜ å¯èƒ½ã§ã™ ğŸ“˜ ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¨ã—ã¦æ®‹ã—ã¦ãŠã‘ã°ã€æ¬¡å›ä»¥é™è½ã¡ã¦ã‚‚ã™ãå¾©å…ƒã§ãã¾ã™ã€‚

ç¶šã‘ã¾ã—ã‚‡ã†ã‹ï¼Ÿã€Œå®Œå…¨åˆæœŸåŒ–ã—ã¦ã€æœ€çŸ­ã§å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬å†æ§‹ç¯‰ã€æµã‚Œã«å…¥ã‚Šã¾ã™ã‹ï¼Ÿ ğŸ”§ğŸ”¥
